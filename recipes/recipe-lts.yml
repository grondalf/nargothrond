---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
# image will be published to ghcr.io/<user>/<name>

name: nargothrond-nvidia-open
description: This is my personal OS image with NVIDIA's open kernel drivers.

base-image: ghcr.io/ublue-os/silverblue-main
image-version: 43  # Or "latest"

modules:
  - type: dnf
    repos:
      cleanup: true
      copr:
        -  kwizart/kernel-longterm-6.6
    remove:
      packages:
        - kernel
        - kernel-core
        - kernel-modules
        - kernel-modules-core
        - kernel-modules-extra
    install:
      install-weak-deps: true
      packages:
        packages:
          - kernel-longterm
          - kernel-longterm-core
          - kernel-longterm-modules
          - kernel-longterm-modules-extra

- type: signing # Necessary for signing files
