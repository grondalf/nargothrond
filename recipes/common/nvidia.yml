# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

modules:
  - type: akmods
    base: main
    install: [] 
    nvidia-driver: nvidia
    
  - type: dnf
    repos:
      cleanup: true
      copr:
        - sunwire/envycontrol
    install:
      skip-unavailable: true
      packages:
        - polkit
        - python-envycontrol

  - type: gnome-extensions
    install:
      - 5009  # GPU Profile Selector

  - type: files
    files:
      - source: system/etc/environment
        destination: /etc/
      - source: system/kargs/nvidia-config.toml
        destination: /usr/lib/bootc/kargs.d/
