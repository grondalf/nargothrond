# yaml-language-server: $schema=https://schema.blue-build.org/module-stage-list-v1.json

modules:
  - type: dnf
    repos:
      cleanup: true
      nonfree: negativo17
      copr:
        - atim/starship
        - kylegospo/LatencyFleX
        - kylegospo/system76-scheduler
        - jackgreiner/lsfg-vk-git
        - atim/preload
        - pesader/hblock
        - sentry/switcheroo-control_discrete 
      keys:
        - https://d2t3ff60b2tol4.cloudfront.net/repomd.xml.key   # insync keys
      files:
        - insync.repo
        
    replace:
      - from-repo: copr:copr.fedorainfracloud.org:abn:throttled
        skip-unavailable: true
        packages:
        - old: thermald
          new: throttled

    install:
      skip-unavailable: true
      packages:
        - switcheroo-control
        - starship
        - tailscale
        - java-21-openjdk
        - steam-devices
        - uld
        - latencyflex-vulkan-layer
        - lsfg-vk
        - insync
        - insync-nautilus
        - preload
        - gamemode
        - hblock
        - android-tools
        - p7zip
        - p7zip-plugins
        - unrar
        - system76-scheduler
        - gnome-shell-extension-system76-scheduler
        # Support for mouse key-bindings
        - xbindkeys
        - xdotool
        # Filen
        - https://github.com/FilenCloudDienste/filen-desktop/releases/download/v3.0.47/Filen_linux_x86_64.rpm

    remove:
      auto-remove: true
      packages:
        - firefox # Replaced with Librewolf Flatpak
        - firefox-langpacks
        - gnome-software # Replaced with Bazaar Flatpak
        - gnome-tour
        - amd-gpu-firmware
        - amd-ucode-firmware
        - gnome-shell-extension-apps-menu
        - gnome-shell-extension-launch-new-instance
        - gnome-shell-extension-places-menu
        - gnome-shell-extension-window-list
        - gnome-shell-extension-background-logo
        - gnome-shell-extension-supergfxctl-gex
